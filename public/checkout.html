<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <title>Thanh to√°n</title>
  <link rel="stylesheet" href="css/checkout.css" />
  <link href="https://fonts.googleapis.com/css2?family=Be+Vietnam+Pro:wght@400;600&display=swap&subset=vietnamese" rel="stylesheet" />
</head>
<body>
  <div class="checkout-card">
    <h1>üßæ Thanh to√°n</h1>

    <!-- Th√¥ng tin g√≥i ƒë∆∞·ª£c truy·ªÅn t·ª´ URL -->
    <div class="product-name" id="product-name">ƒêang t·∫£i...</div>
    <div class="price" id="product-price">-</div>

    <!-- Form th√¥ng tin kh√°ch h√†ng -->
    <form id="checkout-form">
      <input type="text" placeholder="H·ªç v√† t√™n c·ªßa b·∫°n" name="fullname" required />
      <input type="email" placeholder="Email nh·∫≠n template" name="email" required />

      <div class="qr-section">
        <img src="image/thread.jpg" alt="M√£ QR" class="qr-img" />
        <div class="qr-caption">Qu√©t m√£ QR ƒë·ªÉ thanh to√°n</div>
      </div>

      <button type="submit" class="buy-btn">X√ÅC NH·∫¨N MUA</button>
    </form>

    <div class="footer-note">
      Sau khi thanh to√°n, b·∫°n s·∫Ω nh·∫≠n ƒë∆∞·ª£c template qua email.
    </div>
  </div>

  <script>
    // D·ªØ li·ªáu g√≥i h√†ng
    const products = {
      basic: {
        name: "G√≥i C∆° B·∫£n",
        price: "97,000‚Ç´"
      },
      pro: {
        name: "G√≥i Solo Mode",
        price: "497,000‚Ç´"
      },
      full: {
        name: "G√≥i Guild Mode (Full Coaching)",
        price: "997,000‚Ç´"
      }
    };

    const query = new URLSearchParams(window.location.search);
    const productKey = query.get("product");

    const nameElement = document.getElementById("product-name");
    const priceElement = document.getElementById("product-price");

    if (products[productKey]) {
      nameElement.textContent = products[productKey].name;
      priceElement.textContent = products[productKey].price;
    } else {
      nameElement.textContent = "S·∫£n ph·∫©m kh√¥ng x√°c ƒë·ªãnh";
      priceElement.textContent = "-";
    }

    document.getElementById("checkout-form").addEventListener("submit", function (e) {
  e.preventDefault();

  const fullName = document.querySelector('input[name="fullname"]').value;
  const query = new URLSearchParams(window.location.search);
  const productKey = query.get("product");

  const successUrl = `success.html?name=${encodeURIComponent(fullName)}&product=${productKey}`;
  window.location.href = successUrl;
});

  </script>
</body>
</html>
